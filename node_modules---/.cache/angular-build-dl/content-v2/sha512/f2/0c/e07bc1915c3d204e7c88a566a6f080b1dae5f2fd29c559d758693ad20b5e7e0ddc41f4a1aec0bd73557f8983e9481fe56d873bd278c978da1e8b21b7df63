{"version":3,"sources":["src/app/shipping-method/shipping-method.page.html","src/app/shipping-method/shipping-method.module.ts","src/app/shipping-method/shipping-method.page.scss","src/app/shipping-method/shipping-method.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,8gCAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWf,QAAM,MAAM,GAAW,CACrB;AACE,MAAA,IAAI,EAAE,EADR;AAEE,MAAA,SAAS,EAAE,kDAAA,CAAA,oBAAA;AAFb,KADqB,CAAvB;;AAkBA,QAAa,wBAAb;AAAA;AAAA,KAAA;;AAAa,IAAA,wBAAwB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAXpC,MAAA,CAAA,0CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AACR,MAAA,OAAO,EAAE,CACP,4CAAA,CAAA,cAAA,CADO,EAEP,2CAAA,CAAA,aAAA,CAFO,EAGP,2CAAA,CAAA,aAAA,CAHO,EAIP,4CAAA,CAAA,cAAA,CAAA,CAAa,QAAb,CAAsB,MAAtB,CAJO,EAKP,mDAAA,CAAA,aAAA,CALO,EAMP,mDAAA,CAAA,aAAA,CANO,CADD;AASR,MAAA,YAAY,EAAE,CAAC,kDAAA,CAAA,oBAAA,CAAD;AATN,KAAT,CAWoC,CAAA,EAAxB,wBAAwB,CAAxB;;;;;;;;;;;;;;;;AC7Bb,IAAA,mBAAA,CAAA,CAAA,CAAA,mBAAA;AAAe;;;AAAA,IAAA,mBAAA,CAAA,SAAA,CAAA,GAAA,ssBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACaf,QAAa,kBAAb;AAKE,kCACS,OADT,EAES,MAFT,EAGS,IAHT,EAIS,OAJT,EAKS,MALT,EAMS,OANT,EAOU,cAPV,EAOwC;AAAA;;AAAA;;AAN/B,aAAA,OAAA,GAAA,OAAA;AACA,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,IAAA,GAAA,IAAA;AACA,aAAA,OAAA,GAAA,OAAA;AACA,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,OAAA,GAAA,OAAA;AACC,aAAA,cAAA,GAAA,cAAA;AAVV,aAAA,cAAA,GAAiB,IAAI,KAAJ,EAAjB;AACA,aAAA,cAAA,GAAiB,IAAjB,CASwC,CA4BxC;AACA;;AACA,aAAA,eAAA,GAAkB,YAAA;AAChB,cAAI,OAAO,GAAG,CAAd;AACA,cAAI,WAAW,GAAG,CAAlB;;AAFgB,qDAGE,KAAK,MAAL,CAAY,YAHd;AAAA;;AAAA;AAGhB,gEAA4C;AAAA,kBAAnC,KAAmC;AAC1C,cAAA,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,MAAP,CAApB;;AACA,kBAAI,KAAK,CAAC,IAAN,IAAc,IAAlB,EAAwB;AACtB,gBAAA,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,MAAP,CAAV,GAA2B,IAArC;AACD,eAJyC,CAK1C;;;AACA,cAAA,WAAW,GAAG,WAAW,GAAI,OAAO,GAAG,KAAK,CAAC,yBAA7C,CAN0C,CAO1C;AACA;AACD;AAZe;AAAA;AAAA;AAAA;AAAA;;AAahB,iBAAO,WAAP;AACD,SAdD;;AA5BE,aAAK,OAAL,CAAa,IAAb;AACA,YAAI,GAAG,GAAyB,EAAhC;AACA,QAAA,GAAG,CAAC,WAAJ,GAAkB,KAAK,MAAL,CAAY,YAAZ,CAAyB,WAA3C,CAJsC,CAKtC;AACA;AACA;;AACA,QAAA,GAAG,CAAC,KAAJ,GAAY,KAAK,MAAL,CAAY,YAAZ,CAAyB,cAArC;AACA,QAAA,GAAG,CAAC,IAAJ,GAAW,KAAK,MAAL,CAAY,YAAZ,CAAyB,aAApC;AACA,QAAA,GAAG,CAAC,UAAJ,GAAiB,KAAK,MAAL,CAAY,YAAZ,CAAyB,mBAA1C;AACA,QAAA,GAAG,CAAC,QAAJ,GAAe,KAAK,MAAL,CAAY,YAAZ,CAAyB,iBAAxC;AACA,QAAA,GAAG,CAAC,IAAJ,GAAW,KAAK,MAAL,CAAY,YAAZ,CAAyB,aAApC;AACA,QAAA,GAAG,CAAC,cAAJ,GAAqB,KAAK,MAAL,CAAY,YAAZ,CAAyB,uBAA9C;AACA,QAAA,GAAG,CAAC,eAAJ,GAAsB,KAAK,eAAL,EAAtB;AACA,QAAA,GAAG,CAAC,oBAAJ,GAA2B,GAA3B;AACA,QAAA,GAAG,CAAC,QAAJ,GAAe,KAAK,WAAL,EAAf;AACA,QAAA,GAAG,CAAC,WAAJ,GAAkB,MAAM,CAAC,MAAzB;AACA,QAAA,GAAG,CAAC,aAAJ,GAAoB,MAAM,CAAC,YAA3B;AACA,aAAK,MAAL,CAAY,QAAZ,CAAqB,SAArB,EAAgC,GAAhC,EAAqC,IAArC,CAA0C,UAAC,IAAD,EAAc;AACtD,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb;;AACA,cAAI,IAAI,CAAC,OAAL,IAAgB,CAApB,EAAuB;AACrB,gBAAI,CAAC,GAAG,IAAI,CAAC,IAAL,CAAU,eAAlB;AACA,YAAA,KAAI,CAAC,cAAL,GAAsB,MAAM,CAAC,IAAP,CAAY,CAAZ,EAAe,GAAf,CAAmB,UAAU,GAAV,EAAa;AAAI,qBAAO,CAAC,CAAC,GAAD,CAAR;AAAgB,aAApD,CAAtB;AACA,YAAA,KAAI,CAAC,MAAL,CAAY,YAAZ,CAAyB,SAAzB,GAAqC,IAAI,CAAC,IAAL,CAAU,GAA/C;AACD;AACF,SAPD;AAQD;;AAvCH;AAAA;AAAA,kCAyDY,KAzDZ,EAyDiB;AACb,eAAK,cAAL,GAAsB,KAAtB;AACA,cAAI,IAAI,GAAG,KAAK,CAAC,MAAN,CAAa,KAAxB;AACA,eAAK,MAAL,CAAY,YAAZ,CAAyB,aAAzB,GAAyC,IAAI,CAAC,IAA9C;AACA,eAAK,MAAL,CAAY,YAAZ,CAAyB,eAAzB,GAA2C,IAAI,CAAC,IAAL,GAAY,GAAZ,GAAkB,IAAI,CAAC,eAAvB,GAAyC,GAApF;AACD;AA9DH;AAAA;AAAA,wCA+De;AACX,eAAK,OAAL,CAAa,eAAb,CAA6B,KAAK,MAAL,CAAY,YAAZ,GAA2B,QAAxD;AACD;AAjEH;AAAA;AAAA,mCAkEU,CAEP;AApEH;AAAA;AAAA,sCAqEa;AACT,cAAI,IAAI,GAAG,EAAX;AACA,eAAK,MAAL,CAAY,YAAZ,CAAyB,OAAzB,CAAiC,UAAA,OAAO,EAAG;AACzC,YAAA,IAAI,CAAC,IAAL,CAAU;AACR,cAAA,yBAAyB,EAAE,OAAO,CAAC,yBAD3B;AAER,cAAA,WAAW,EAAE,OAAO,CAAC,WAFb;AAGR,cAAA,KAAK,EAAE,OAAO,CAAC,KAHP;AAIR,cAAA,WAAW,EAAE,OAAO,CAAC,WAJb;AAKR,cAAA,KAAK,EAAE,OAAO,CAAC,KALP;AAMR,cAAA,IAAI,EAAE,OAAO,CAAC,IANN;AAOR,cAAA,MAAM,EAAE,OAAO,CAAC;AAPR,aAAV;AASD,WAVD;AAWA,iBAAO,IAAP;AACD;AAnFH;;AAAA;AAAA,OAAA;;;;cAMoB,2CAAA,CAAA,eAAA;;cACD,0EAAA,CAAA,mBAAA;;cACF,iDAAA,CAAA,YAAA;;cACG,2CAAA,CAAA,SAAA;;cACD,gEAAA,CAAA,eAAA;;cACC,kEAAA,CAAA,gBAAA;;cACQ,0CAAA,CAAA,gBAAA;;;;AAZf,IAAA,kBAAkB,GAAA,kCAAA,CAAA,YAAA,CAAA,CAAA,CAL9B,MAAA,CAAA,0CAAA,CAAA,WAAA,CAAA,CAAA,CAAU;AACT,MAAA,QAAQ,EAAE,qBADD;AAET,MAAA,QAAA,EAAA,kCAAA,CAAA,iBAAA,CAAA,CAAA,mBAAA;AAAA;AAAA,iGAAA,CAAA,YAFS;;;;AAAA,KAAV,CAK8B,E,uEAMX,2CAAA,CAAA,eAAA,C,EACD,0EAAA,CAAA,mBAAA,C,EACF,iDAAA,CAAA,YAAA,C,EACG,2CAAA,CAAA,SAAA,C,EACD,gEAAA,CAAA,eAAA,C,EACC,kEAAA,CAAA,gBAAA,C,EACQ,0CAAA,CAAA,gBAAA,C,EAZG,CAAA,EAAlB,kBAAkB,CAAlB,C,CAqFL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button icon=\\\"arrow-back\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{'Shipping Method'|translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-list>\\n    <ion-radio-group name=\\\"radio-group\\\" (ionChange)=\\\"setMethod($event)\\\">\\n      <div *ngFor=\\\"let m of shippingMethod\\\">\\n        <div *ngIf=\\\"m.services.length!=0\\\">\\n          <ion-list-header>\\n            {{m.name}}\\n          </ion-list-header>\\n\\n          <ion-item lines=\\\"full\\\" *ngFor=\\\"let s of m.services\\\">\\n            <ion-label>{{s.name+' ---- '+s.rate+' '+s.currencyCode}}</ion-label>\\n            <ion-radio name=\\\"{{s.name}}\\\" [value]=\\\"s\\\"></ion-radio>\\n          </ion-item>\\n        </div>\\n      </div>\\n    </ion-radio-group>\\n  </ion-list>\\n</ion-content>\\n<ion-footer>\\n  <ion-button expand=\\\"full\\\" color=\\\"secondary\\\" (click)=\\\"openOrderPage()\\\" [disabled]=\\\"selectedMethod\\\">\\n    {{'Next'|translate}}</ion-button>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShippingMethodPage } from './shipping-method.page';\nimport { PipesModule } from 'src/pipes/pipes.module';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ShippingMethodPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    PipesModule,\n    PipesModule\n  ],\n  declarations: [ShippingMethodPage]\n})\nexport class ShippingMethodPageModule { }\n","export default \"ion-footer ion-button {\\n  height: 45px;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hpcHBpbmctbWV0aG9kL0Q6XFxhcHBcXGZ0b2hfY3VzdG9tZXIvc3JjXFxhcHBcXHNoaXBwaW5nLW1ldGhvZFxcc2hpcHBpbmctbWV0aG9kLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2hpcHBpbmctbWV0aG9kL3NoaXBwaW5nLW1ldGhvZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxZQUFBO0VBQ0EsU0FBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvc2hpcHBpbmctbWV0aG9kL3NoaXBwaW5nLW1ldGhvZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tZm9vdGVyIHtcbiAgaW9uLWJ1dHRvbiB7XG4gICAgaGVpZ2h0OiA0NXB4O1xuICAgIG1hcmdpbjogMDtcbiAgfVxufVxuIiwiaW9uLWZvb3RlciBpb24tYnV0dG9uIHtcbiAgaGVpZ2h0OiA0NXB4O1xuICBtYXJnaW46IDA7XG59Il19 */\"","import { Component, OnInit, ApplicationRef } from '@angular/core';\nimport { NavController, NavParams } from '@ionic/angular';\n\nimport { SharedDataService } from 'src/providers/shared-data/shared-data.service';\nimport { HttpClient } from '@angular/common/http';\nimport { ConfigService } from 'src/providers/config/config.service';\nimport { LoadingService } from 'src/providers/loading/loading.service';\nimport { Storage } from '@ionic/storage';\n@Component({\n  selector: 'app-shipping-method',\n  templateUrl: './shipping-method.page.html',\n  styleUrls: ['./shipping-method.page.scss'],\n})\nexport class ShippingMethodPage implements OnInit {\n\n  shippingMethod = new Array;\n  selectedMethod = true;\n  selectedvalue: any;\n  constructor(\n    public navCtrl: NavController,\n    public shared: SharedDataService,\n    public http: HttpClient,\n    public storage: Storage,\n    public config: ConfigService,\n    public loading: LoadingService,\n    private applicationRef: ApplicationRef,\n  ) {\n    this.loading.show();\n    var dat: { [k: string]: any } = {};\n    dat.tax_zone_id = this.shared.orderDetails.tax_zone_id;\n    // data.shipping_method = this.shared.orderDetails.shipping_method;\n    // data.shipping_method = 'upsShipping';\n    // data.shipping_method_code = this.shared.orderDetails.shipping_method_code;\n    dat.state = this.shared.orderDetails.delivery_state;\n    dat.city = this.shared.orderDetails.delivery_city;\n    dat.country_id = this.shared.orderDetails.delivery_country_id;\n    dat.postcode = this.shared.orderDetails.delivery_postcode;\n    dat.zone = this.shared.orderDetails.delivery_zone;\n    dat.street_address = this.shared.orderDetails.delivery_street_address;\n    dat.products_weight = this.calculateWeight();\n    dat.products_weight_unit = 'g'\n    dat.products = this.getProducts();\n    dat.language_id = config.langId;\n    dat.currency_code = config.currecnyCode;\n    this.config.postHttp('getrate', dat).then((data: any) => {\n      this.loading.hide();\n      if (data.success == 1) {\n        var m = data.data.shippingMethods;\n        this.shippingMethod = Object.keys(m).map(function (key) { return m[key]; });\n        this.shared.orderDetails.total_tax = data.data.tax;\n      }\n    });\n  }\n  //================================================================================\n  //calcualting products total weight\n  calculateWeight = function () {\n    var pWeight = 0;\n    var totalWeight = 0;\n    for (let value of this.shared.cartProducts) {\n      pWeight = parseFloat(value.weight);\n      if (value.unit == 'kg') {\n        pWeight = parseFloat(value.weight) * 1000;\n      }\n      //  else {\n      totalWeight = totalWeight + (pWeight * value.customers_basket_quantity);\n      //   }\n      //  console.log(totalWeight);\n    }\n    return totalWeight;\n  };\n  setMethod(event) {\n    this.selectedMethod = false;\n    let data = event.detail.value;\n    this.shared.orderDetails.shipping_cost = data.rate;\n    this.shared.orderDetails.shipping_method = data.name + '(' + data.shipping_method + ')';\n  }\n  openOrderPage() {\n    this.navCtrl.navigateForward(this.config.currentRoute + \"/order\");\n  }\n  ngOnInit() {\n\n  }\n  getProducts() {\n    let temp = [];\n    this.shared.cartProducts.forEach(element => {\n      temp.push({\n        customers_basket_quantity: element.customers_basket_quantity,\n        final_price: element.final_price,\n        price: element.price,\n        products_id: element.products_id,\n        total: element.total,\n        unit: element.unit,\n        weight: element.weight\n      })\n    });\n    return temp;\n  }\n}\n        // attributes: element.attributes,\n        // cart_id: element.cart_id,\n        // categories: element.categories,\n        // customers_basket_quantity: element.customers_basket_quantity,\n        // final_price: element.final_price,\n        // model: element.model,\n        // on_sale: element.on_sale,\n        // price: element.price,\n        // products_id: element.products_id,\n        // products_name: element.products_name,\n        // subtotal: element.subtotal,\n        // total: element.total,\n        // unit: element.unit,\n        // weight: element.weight"],"sourceRoot":"webpack:///","file":"shipping-method-shipping-method-module-es5.js"}