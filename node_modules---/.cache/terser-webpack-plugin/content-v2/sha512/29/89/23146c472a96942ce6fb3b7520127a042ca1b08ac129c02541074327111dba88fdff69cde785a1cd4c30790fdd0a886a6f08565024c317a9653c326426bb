{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{\"JyM/\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\"),shared_data_service=__webpack_require__(\"UmVP\"),config_service=__webpack_require__(\"sf9b\"),loading_service=__webpack_require__(\"KTio\");class ShippingMethodPage{constructor(navCtrl,shared,http,storage,config,loading,applicationRef){this.navCtrl=navCtrl,this.shared=shared,this.http=http,this.storage=storage,this.config=config,this.loading=loading,this.applicationRef=applicationRef,this.shippingMethod=new Array,this.selectedMethod=!0,this.calculateWeight=function(){var pWeight=0,totalWeight=0;for(let value of this.shared.cartProducts)pWeight=parseFloat(value.weight),\"kg\"==value.unit&&(pWeight=1e3*parseFloat(value.weight)),totalWeight+=pWeight*value.customers_basket_quantity;return totalWeight},this.loading.show();var dat={};dat.tax_zone_id=this.shared.orderDetails.tax_zone_id,dat.state=this.shared.orderDetails.delivery_state,dat.city=this.shared.orderDetails.delivery_city,dat.country_id=this.shared.orderDetails.delivery_country_id,dat.postcode=this.shared.orderDetails.delivery_postcode,dat.zone=this.shared.orderDetails.delivery_zone,dat.street_address=this.shared.orderDetails.delivery_street_address,dat.products_weight=this.calculateWeight(),dat.products_weight_unit=\"g\",dat.products=this.getProducts(),dat.language_id=config.langId,dat.currency_code=config.currecnyCode,this.config.postHttp(\"getrate\",dat).then(data=>{if(this.loading.hide(),1==data.success){var m=data.data.shippingMethods;this.shippingMethod=Object.keys(m).map((function(key){return m[key]})),this.shared.orderDetails.total_tax=data.data.tax}})}setMethod(event){this.selectedMethod=!1;let data=event.detail.value;this.shared.orderDetails.shipping_cost=data.rate,this.shared.orderDetails.shipping_method=data.name+\"(\"+data.shipping_method+\")\"}openOrderPage(){this.navCtrl.navigateForward(this.config.currentRoute+\"/order\")}ngOnInit(){}getProducts(){let temp=[];return this.shared.cartProducts.forEach(element=>{temp.push({customers_basket_quantity:element.customers_basket_quantity,final_price:element.final_price,price:element.price,products_id:element.products_id,total:element.total,unit:element.unit,weight:element.weight})}),temp}}class ShippingMethodPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),ionic_angular_ngfactory=__webpack_require__(\"MKJQ\"),ionic_angular=__webpack_require__(\"sZkV\"),fesm2015_forms=__webpack_require__(\"s7LF\"),common=__webpack_require__(\"SVse\"),translate_app_pipe=__webpack_require__(\"taci\"),http=__webpack_require__(\"IheW\"),ionic_storage=__webpack_require__(\"xgBC\"),RenderType_ShippingMethodPage=core.nb({encapsulation:0,styles:[[\"ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:45px;margin:0}\"]],data:{}});function View_ShippingMethodPage_3(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,8,\"ion-item\",[[\"lines\",\"full\"]],null,null,null,ionic_angular_ngfactory.Fb,ionic_angular_ngfactory.z)),core.ob(1,49152,null,0,ionic_angular.I,[core.h,core.k,core.x],{lines:[0,\"lines\"]},null),(_l()(),core.pb(2,0,null,0,2,\"ion-label\",[],null,null,null,ionic_angular_ngfactory.Gb,ionic_angular_ngfactory.C)),core.ob(3,49152,null,0,ionic_angular.O,[core.h,core.k,core.x],null,null),(_l()(),core.Ib(4,0,[\"\",\"\"])),(_l()(),core.pb(5,0,null,0,3,\"ion-radio\",[],null,[[null,\"ionBlur\"],[null,\"ionSelect\"]],(function(_v,en,$event){var ad=!0;return\"ionBlur\"===en&&(ad=!1!==core.Bb(_v,8)._handleBlurEvent($event.target)&&ad),\"ionSelect\"===en&&(ad=!1!==core.Bb(_v,8)._handleIonSelect($event.target)&&ad),ad}),ionic_angular_ngfactory.Mb,ionic_angular_ngfactory.H)),core.Fb(5120,null,fesm2015_forms.g,(function(p0_0){return[p0_0]}),[ionic_angular.Mb]),core.ob(7,49152,null,0,ionic_angular.Y,[core.h,core.k,core.x],{name:[0,\"name\"],value:[1,\"value\"]},null),core.ob(8,16384,null,0,ionic_angular.Mb,[core.k],null,null)],(function(_ck,_v){_ck(_v,1,0,\"full\"),_ck(_v,7,0,core.tb(1,\"\",_v.context.$implicit.name,\"\"),_v.context.$implicit)}),(function(_ck,_v){_ck(_v,4,0,_v.context.$implicit.name+\" ---- \"+_v.context.$implicit.rate+\" \"+_v.context.$implicit.currencyCode)}))}function View_ShippingMethodPage_2(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,5,\"div\",[],null,null,null,null,null)),(_l()(),core.pb(1,0,null,null,2,\"ion-list-header\",[],null,null,null,ionic_angular_ngfactory.Hb,ionic_angular_ngfactory.E)),core.ob(2,49152,null,0,ionic_angular.Q,[core.h,core.k,core.x],null,null),(_l()(),core.Ib(3,0,[\" \",\" \"])),(_l()(),core.eb(16777216,null,null,1,null,View_ShippingMethodPage_3)),core.ob(5,278528,null,0,common.j,[core.M,core.J,core.q],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){_ck(_v,5,0,_v.parent.context.$implicit.services)}),(function(_ck,_v){_ck(_v,3,0,_v.parent.context.$implicit.name)}))}function View_ShippingMethodPage_1(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,2,\"div\",[],null,null,null,null,null)),(_l()(),core.eb(16777216,null,null,1,null,View_ShippingMethodPage_2)),core.ob(2,16384,null,0,common.k,[core.M,core.J],{ngIf:[0,\"ngIf\"]},null)],(function(_ck,_v){_ck(_v,2,0,0!=_v.context.$implicit.services.length)}),null)}function View_ShippingMethodPage_0(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,12,\"ion-header\",[],null,null,null,ionic_angular_ngfactory.xb,ionic_angular_ngfactory.t)),core.ob(1,49152,null,0,ionic_angular.C,[core.h,core.k,core.x],null,null),(_l()(),core.pb(2,0,null,0,10,\"ion-toolbar\",[],null,null,null,ionic_angular_ngfactory.hc,ionic_angular_ngfactory.db)),core.ob(3,49152,null,0,ionic_angular.Ab,[core.h,core.k,core.x],null,null),(_l()(),core.pb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,ionic_angular_ngfactory.jb,ionic_angular_ngfactory.f)),core.ob(5,49152,null,0,ionic_angular.m,[core.h,core.k,core.x],null,null),(_l()(),core.pb(6,0,null,0,2,\"ion-back-button\",[[\"icon\",\"arrow-back\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==core.Bb(_v,8).onClick($event)&&ad),ad}),ionic_angular_ngfactory.gb,ionic_angular_ngfactory.c)),core.ob(7,49152,null,0,ionic_angular.h,[core.h,core.k,core.x],{icon:[0,\"icon\"]},null),core.ob(8,16384,null,0,ionic_angular.i,[[2,ionic_angular.gb],ionic_angular.Hb],null,null),(_l()(),core.pb(9,0,null,0,3,\"ion-title\",[],null,null,null,ionic_angular_ngfactory.fc,ionic_angular_ngfactory.bb)),core.ob(10,49152,null,0,ionic_angular.yb,[core.h,core.k,core.x],null,null),(_l()(),core.Ib(11,0,[\"\",\"\"])),core.Db(0,translate_app_pipe.a,[shared_data_service.a]),(_l()(),core.pb(13,0,null,null,9,\"ion-content\",[],null,null,null,ionic_angular_ngfactory.rb,ionic_angular_ngfactory.n)),core.ob(14,49152,null,0,ionic_angular.v,[core.h,core.k,core.x],null,null),(_l()(),core.pb(15,0,null,0,7,\"ion-list\",[],null,null,null,ionic_angular_ngfactory.Ib,ionic_angular_ngfactory.D)),core.ob(16,49152,null,0,ionic_angular.P,[core.h,core.k,core.x],null,null),(_l()(),core.pb(17,0,null,0,5,\"ion-radio-group\",[[\"name\",\"radio-group\"]],null,[[null,\"ionChange\"],[null,\"ionBlur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Bb(_v,20)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Bb(_v,20)._handleChangeEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==_co.setMethod($event)&&ad),ad}),ionic_angular_ngfactory.Lb,ionic_angular_ngfactory.I)),core.Fb(5120,null,fesm2015_forms.g,(function(p0_0){return[p0_0]}),[ionic_angular.Ob]),core.ob(19,49152,null,0,ionic_angular.Z,[core.h,core.k,core.x],{name:[0,\"name\"]},null),core.ob(20,16384,null,0,ionic_angular.Ob,[core.k],null,null),(_l()(),core.eb(16777216,null,0,1,null,View_ShippingMethodPage_1)),core.ob(22,278528,null,0,common.j,[core.M,core.J,core.q],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.pb(23,0,null,null,5,\"ion-footer\",[],null,null,null,ionic_angular_ngfactory.vb,ionic_angular_ngfactory.r)),core.ob(24,49152,null,0,ionic_angular.A,[core.h,core.k,core.x],null,null),(_l()(),core.pb(25,0,null,0,3,\"ion-button\",[[\"color\",\"secondary\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.openOrderPage()&&ad),ad}),ionic_angular_ngfactory.ib,ionic_angular_ngfactory.e)),core.ob(26,49152,null,0,ionic_angular.l,[core.h,core.k,core.x],{color:[0,\"color\"],disabled:[1,\"disabled\"],expand:[2,\"expand\"]},null),(_l()(),core.Ib(27,0,[\" \",\"\"])),core.Db(0,translate_app_pipe.a,[shared_data_service.a])],(function(_ck,_v){var _co=_v.component;_ck(_v,7,0,\"arrow-back\"),_ck(_v,19,0,\"radio-group\"),_ck(_v,22,0,_co.shippingMethod),_ck(_v,26,0,\"secondary\",_co.selectedMethod,\"full\")}),(function(_ck,_v){_ck(_v,11,0,core.Jb(_v,11,0,core.Bb(_v,12).transform(\"Shipping Method\"))),_ck(_v,27,0,core.Jb(_v,27,0,core.Bb(_v,28).transform(\"Next\")))}))}function View_ShippingMethodPage_Host_0(_l){return core.Kb(0,[(_l()(),core.pb(0,0,null,null,1,\"app-shipping-method\",[],null,null,null,View_ShippingMethodPage_0,RenderType_ShippingMethodPage)),core.ob(1,114688,null,0,ShippingMethodPage,[ionic_angular.Hb,shared_data_service.a,http.c,ionic_storage.b,config_service.a,loading_service.a,core.g],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ShippingMethodPageNgFactory=core.lb(\"app-shipping-method\",ShippingMethodPage,View_ShippingMethodPage_Host_0,{},{},[]),router=__webpack_require__(\"iInd\"),pipes_module=__webpack_require__(\"wWlB\");__webpack_require__.d(__webpack_exports__,\"ShippingMethodPageModuleNgFactory\",(function(){return ShippingMethodPageModuleNgFactory}));var ShippingMethodPageModuleNgFactory=core.mb(ShippingMethodPageModule,[],(function(_l){return core.yb([core.zb(512,core.j,core.X,[[8,[router_ngfactory.a,ShippingMethodPageNgFactory]],[3,core.j],core.v]),core.zb(4608,common.m,common.l,[core.s,[2,common.v]]),core.zb(4608,fesm2015_forms.p,fesm2015_forms.p,[]),core.zb(4608,ionic_angular.c,ionic_angular.c,[core.x,core.g]),core.zb(4608,ionic_angular.Gb,ionic_angular.Gb,[ionic_angular.c,core.j,core.p]),core.zb(4608,ionic_angular.Lb,ionic_angular.Lb,[ionic_angular.c,core.j,core.p]),core.zb(1073742336,common.b,common.b,[]),core.zb(1073742336,fesm2015_forms.o,fesm2015_forms.o,[]),core.zb(1073742336,fesm2015_forms.c,fesm2015_forms.c,[]),core.zb(1073742336,ionic_angular.Cb,ionic_angular.Cb,[]),core.zb(1073742336,router.o,router.o,[[2,router.t],[2,router.m]]),core.zb(1073742336,pipes_module.a,pipes_module.a,[]),core.zb(1073742336,ShippingMethodPageModule,ShippingMethodPageModule,[]),core.zb(1024,router.k,(function(){return[[{path:\"\",component:ShippingMethodPage}]]}),[])])}))}}]);","extractedComments":[]}